{"ast":null,"code":"import _slicedToArray from\"C:/Users/ivank/Desktop/React/react-course/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from\"react\";import TodoList from\"./Todo/TodoList\";import Context from\"./context\";// import AddTodo from \"./Todo/AddTodo\";\nimport Loader from\"./Loader\";import Modal from\"./Modal/Modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddTodo=/*#__PURE__*/React.lazy(function(){return import('./Todo/AddTodo');});function App(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),todos=_React$useState2[0],setTodos=_React$useState2[1];var _React$useState3=React.useState(true),_React$useState4=_slicedToArray(_React$useState3,2),loading=_React$useState4[0],setLoading=_React$useState4[1];useEffect(function(){fetch('https://jsonplaceholder.typicode.com/todos?_limit=5').then(function(response){return response.json();}).then(function(todos){setTimeout(function(){setTodos(todos);setLoading(false);},2000);});},[]);function toggleTodo(id){setTodos(todos.map(function(todo){if(todo.id===id){todo.completed=!todo.completed;}return todo;}));}function removeTodo(id){setTodos(todos.filter(function(todo){return todo.id!==id;}));}function addTodo(title){setTodos(todos.concat([{title:title,id:Date.now(),completed:false}]));}return/*#__PURE__*/_jsx(Context.Provider,{value:{removeTodo:removeTodo},children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My notes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(React.Suspense,{fallback:/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),children:/*#__PURE__*/_jsx(AddTodo,{onCreate:addTodo})}),/*#__PURE__*/_jsx(Modal,{})]}),loading&&/*#__PURE__*/_jsx(Loader,{}),todos.length?/*#__PURE__*/_jsx(TodoList,{todos:todos,onToggle:toggleTodo}):loading?null:/*#__PURE__*/_jsx(\"h2\",{children:\"Empty...\"})]})});}export default App;","map":{"version":3,"names":["React","useEffect","TodoList","Context","Loader","Modal","AddTodo","lazy","App","useState","todos","setTodos","loading","setLoading","fetch","then","response","json","setTimeout","toggleTodo","id","map","todo","completed","removeTodo","filter","addTodo","title","concat","Date","now","length"],"sources":["C:/Users/ivank/Desktop/React/react-course/src/App.js"],"sourcesContent":["import React, {useEffect} from \"react\";\nimport TodoList from \"./Todo/TodoList\";\nimport Context from \"./context\";\n// import AddTodo from \"./Todo/AddTodo\";\nimport Loader from \"./Loader\";\nimport Modal from \"./Modal/Modal\";\n\nconst AddTodo = React.lazy(() => import('./Todo/AddTodo'));\n\nfunction App() {\n  const [todos, setTodos] = React.useState([])\n  const [loading, setLoading] = React.useState(true)\n\n  useEffect(() => {\n    fetch('https://jsonplaceholder.typicode.com/todos?_limit=5')\n      .then(response => response.json())\n      .then(todos => {\n        setTimeout(()=>{\n          setTodos(todos)\n          setLoading(false)\n        },2000)\n      })\n  }, []) \n\n  function toggleTodo(id) {\n    setTodos (\n      todos.map(todo => {\n      if (todo.id === id) {\n        todo.completed = !todo.completed;\n      }\n      return todo;\n      })\n    )\n  }\n\n  function removeTodo(id) {\n    setTodos(todos.filter(todo => todo.id !== id))\n  }\n\n  function addTodo(title) {\n    setTodos(todos.concat([{\n      title,\n      id: Date.now(),\n      completed: false,\n    }]))\n  }\n  \n  return (\n    <Context.Provider value={{removeTodo: removeTodo}}>\n    <div className=\"wrapper\">\n        <h1>My notes</h1>\n      <div className='header'> \n        <React.Suspense fallback={<p>Loading...</p>}>\n          <AddTodo onCreate={addTodo}></AddTodo>\n        </React.Suspense>\n        <Modal></Modal>\n      </div>\n        {loading && <Loader></Loader>}\n        {todos.length ? (<TodoList todos={todos} onToggle={toggleTodo}></TodoList>\n        ) : loading ? null : (<h2>Empty...</h2>)}\n      </div>\n    </Context.Provider>\n  )\n}\n\nexport default App;\n"],"mappings":"+HAAA,MAAOA,MAAK,EAAGC,SAAS,KAAO,OAAO,CACtC,MAAOC,SAAQ,KAAM,iBAAiB,CACtC,MAAOC,QAAO,KAAM,WAAW,CAC/B;AACA,MAAOC,OAAM,KAAM,UAAU,CAC7B,MAAOC,MAAK,KAAM,eAAe,CAAC,wFAElC,GAAMC,QAAO,cAAGN,KAAK,CAACO,IAAI,CAAC,iBAAM,OAAM,CAAC,gBAAgB,CAAC,GAAC,CAE1D,QAASC,IAAG,EAAG,CACb,oBAA0BR,KAAK,CAACS,QAAQ,CAAC,EAAE,CAAC,oDAArCC,KAAK,qBAAEC,QAAQ,qBACtB,qBAA8BX,KAAK,CAACS,QAAQ,CAAC,IAAI,CAAC,qDAA3CG,OAAO,qBAAEC,UAAU,qBAE1BZ,SAAS,CAAC,UAAM,CACda,KAAK,CAAC,qDAAqD,CAAC,CACzDC,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACjCF,IAAI,CAAC,SAAAL,KAAK,CAAI,CACbQ,UAAU,CAAC,UAAI,CACbP,QAAQ,CAACD,KAAK,CAAC,CACfG,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,IAAI,CAAC,CACT,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,QAASM,WAAU,CAACC,EAAE,CAAE,CACtBT,QAAQ,CACND,KAAK,CAACW,GAAG,CAAC,SAAAC,IAAI,CAAI,CAClB,GAAIA,IAAI,CAACF,EAAE,GAAKA,EAAE,CAAE,CAClBE,IAAI,CAACC,SAAS,CAAG,CAACD,IAAI,CAACC,SAAS,CAClC,CACA,MAAOD,KAAI,CACX,CAAC,CAAC,CACH,CACH,CAEA,QAASE,WAAU,CAACJ,EAAE,CAAE,CACtBT,QAAQ,CAACD,KAAK,CAACe,MAAM,CAAC,SAAAH,IAAI,QAAIA,KAAI,CAACF,EAAE,GAAKA,EAAE,GAAC,CAAC,CAChD,CAEA,QAASM,QAAO,CAACC,KAAK,CAAE,CACtBhB,QAAQ,CAACD,KAAK,CAACkB,MAAM,CAAC,CAAC,CACrBD,KAAK,CAALA,KAAK,CACLP,EAAE,CAAES,IAAI,CAACC,GAAG,EAAE,CACdP,SAAS,CAAE,KACb,CAAC,CAAC,CAAC,CAAC,CACN,CAEA,mBACE,KAAC,OAAO,CAAC,QAAQ,EAAC,KAAK,CAAE,CAACC,UAAU,CAAEA,UAAU,CAAE,uBAClD,aAAK,SAAS,CAAC,SAAS,wBACpB,gCAAiB,cACnB,aAAK,SAAS,CAAC,QAAQ,wBACrB,KAAC,KAAK,CAAC,QAAQ,EAAC,QAAQ,cAAE,iCAAkB,uBAC1C,KAAC,OAAO,EAAC,QAAQ,CAAEE,OAAQ,EAAW,EACvB,cACjB,KAAC,KAAK,IAAS,GACX,CACHd,OAAO,eAAI,KAAC,MAAM,IAAU,CAC5BF,KAAK,CAACqB,MAAM,cAAI,KAAC,QAAQ,EAAC,KAAK,CAAErB,KAAM,CAAC,QAAQ,CAAES,UAAW,EAAY,CACtEP,OAAO,CAAG,IAAI,cAAI,gCAAkB,GACpC,EACW,CAEvB,CAEA,cAAeJ,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}